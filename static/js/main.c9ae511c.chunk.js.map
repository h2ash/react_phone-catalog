{"version":3,"sources":["components/HomePage.jsx","components/Loader.jsx","components/PhoneCatalog.jsx","components/PhonesPage.jsx","components/NotFoundPage.jsx","components/PhoneDetails.jsx","components/PhoneDetailsPage.jsx","components/Basket.jsx","App.js","index.js"],"names":["HomePage","react_default","a","createElement","Loader","_ref","isLoading","className","PhoneCatalog","state","phones","phonesForShowing","componentDidMount","_this","setState","props","handleInput","event","value","target","prevState","Object","toConsumableArray","filter","phone","id","toLowerCase","includes","sortFunc","sort","b","valueA","valueB","localeCompare","_this2","this","htmlFor","onChange","type","selected","map","src","concat","imageUrl","alt","react_router_dom","to","name","snippet","onClick","addItemToBasket","React","Component","PhonesPage","loadDataPhones","_this$props","isLoaded","components_PhoneCatalog","components_Loader","NotFoundPage","PhoneDetails","currentImg","currentImage","chooseCurrentImg","details","images","image","PhoneDetailsPage","loadDataDetails","_callee","currentId","responseDetails","regenerator_default","wrap","_context","prev","next","fetch","sent","json","setTimeout","stop","_this$state","console","log","Fragment","components_PhoneDetails","Basket","itemsAtBasket","basketManager","length","item","quantity","App","operation","currentIndex","findIndex","element","changedArray","obj","itemToAdd","requiredItem","objectSpread","age","carrier","responsePhones","href","exact","react_router","path","component","render","components_PhonesPage","_ref2","match","components_PhoneDetailsPage","params","components_Basket","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.c9ae511c.chunk.js","sourcesContent":["import React from 'react'\n\nconst HomePage = () => (\n  <h2>Home page</h2>\n)\n\nexport default HomePage","import React from 'react'\n\nconst Loader = ({isLoading}) => (\n  <div>\n    {\n      isLoading && <div className=\"loading\"></div>\n    }\n  </div>\n)\n\nexport default Loader","import React from 'react'\nimport {\n  Link\n} from 'react-router-dom'\n\nclass PhoneCatalog extends React.Component {\n  state = {\n    phones: [],\n    phonesForShowing: [],\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      phones: this.props.phones,\n      phonesForShowing: this.props.phones,\n    })\n  }\n\n  handleInput = (event) => {\n    const { value } = event.target;\n\n    this.setState(prevState => ({\n      phonesForShowing: [...prevState.phones].filter(phone => \n        phone.id.toLowerCase().includes(value.toLowerCase())\n        ),\n    }))\n  }\n\n  sortFunc = (event) => {\n    const {value} = event.target;\n\n    this.setState(prevState => ({\n      phonesForShowing: [...prevState.phonesForShowing].sort((a,b) => {\n        const valueA = a[value];\n        const valueB = b[value];\n        \n        switch(typeof valueA) {\n          case 'string':\n            return valueA.localeCompare(valueB);\n          case 'number':\n            return valueA - valueB;\n          default:\n            return 0;\n        }\n      })\n    }))\n  }\n\n  render() {\n    const { phonesForShowing } = this.state;\n    const BASE_IMAGE_URL = \n      'https://mate-academy.github.io/phone-catalogue-static';\n\n    return (\n      <div className='phoneCatalog'>\n        <label\n          className='searchField'\n          htmlFor=\"search_field\"\n        >\n          Search: \n          <input \n            onChange={this.handleInput}\n            className='searchField__input'\n            id='search_field'\n            type=\"text\"/>\n        </label>\n\n        <label \n          className='sortField'\n          htmlFor=\"sort_select\"\n        >\n          Sort by: \n          <select \n            onChange={this.sortFunc}\n            className='sortField-select'\n            id=\"sort_select\">\n            <option selected value=\"age\">Newest</option>\n            <option value=\"name\">Alphabetical</option>\n          </select>\n        </label>\n\n        <ul className='listOfPhones'>\n          {\n            phonesForShowing.map(phone => (\n              <li className='listOfPhones__item'>\n                <img \n                  className='listOfPhones__item-img'\n                  src={`${BASE_IMAGE_URL}/${phone.imageUrl}`}\n                  alt=\"altImg\"\n                  />\n\n                <Link\n                  className='listOfPhones__item-link'\n                  to={`/phones/${phone.id}`}\n                >\n                  {phone.name}\n                </Link>\n\n                <section className='listOfPhones__item-snippet'>\n                  {phone.snippet}\n                </section>\n\n                <button\n                  onClick={() => this.props.addItemToBasket(phone)}\n                >\n                  Add to cart\n                </button>\n              </li>\n            ))\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default PhoneCatalog","import React from 'react'\nimport Loader from './Loader'\nimport PhoneCatalog from './PhoneCatalog'\n\nclass PhonesPage extends React.Component {\n  componentDidMount = () => {\n    this.props.loadDataPhones()\n  }\n\n  render() {\n    const { \n      phones,\n      isLoading, \n      isLoaded,\n      addItemToBasket\n    } = this.props;\n\n    return (\n      <div>\n        {\n          isLoaded\n            ? <PhoneCatalog\n              addItemToBasket={addItemToBasket} \n              phones={phones}\n              isLoading={isLoading}\n              isLoaded={isLoaded}\n            />\n            : <Loader\n              isLoading={isLoading}\n            />\n        }\n      </div>\n    )\n  }\n}\n\nexport default PhonesPage","import React from 'react'\n\nconst NotFoundPage = () => (\n  <div>Not found page!</div>\n)\n\nexport default NotFoundPage","import React from 'react'\n\nclass PhoneDetails extends React.Component {\n  state = {\n    currentImg: '',\n  }\n\n  componentDidMount = () => {\n    const BASE_IMAGE_URL = \n      'https://mate-academy.github.io/phone-catalogue-static';\n    const currentImage = `${BASE_IMAGE_URL}/${this.props.phone.imageUrl}`;\n\n    this.setState({\n      currentImg: currentImage,\n    })\n  }\n\n  chooseCurrentImg = (event) => {\n    const { src } = event.target;\n\n    this.setState({\n      currentImg: src,\n    })\n  }\n\n  render() {\n    const { id, phone, details } = this.props;\n    const { currentImg } = this.state;\n    const BASE_IMAGE_URL = \n      'https://mate-academy.github.io/phone-catalogue-static';\n\n\n    return (\n      <div>\n        <section\n          className='currentPhone__top-block'\n        >\n          <img\n            className='currentPhone__top-block-current-img'\n            src={currentImg}\n            alt=\"phone_photo\"\n          />\n          <h1 className='currentPhone__top-block-title'>\n            {phone.name}\n          </h1>\n          <div\n            className='currentPhone__top-block-snippet'\n          >\n            {phone.snippet}\n          </div>\n          <ul className='currentPhone__top-block-all-imgs'>\n            {\n              details.images.map(image =>\n                <img\n                  onClick={this.chooseCurrentImg}\n                  className='currentPhone__top-block-all-imgs-item'\n                  src={`${BASE_IMAGE_URL}/${image}`}\n                  alt=\"\"\n                />\n              )\n            }\n          </ul>\n        </section>\n        <section>\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default PhoneDetails","import React from 'react'\nimport Loader from './Loader'\nimport PhoneDetails from './PhoneDetails'\n\nclass PhoneDetailsPage extends React.Component {\n  state = {\n    details: '',\n    isLoading: false,\n    isLoaded: false,\n  }\n\n  loadDataDetails = async (currentId) => {\n    this.setState({\n      isLoading: true,\n    })\n\n    const responseDetails = await\n      fetch(`https://mate-academy.github.io/phone-catalogue-static/api/phones/${currentId}.json`)\n    const details = await responseDetails.json();\n\n    setTimeout(() => {\n      this.setState({\n        details: details,\n        isLoading: false,\n        isLoaded: true,\n      })\n    }, 1000)\n  }\n\n  componentDidMount = () => {\n    this.props.loadDataPhones()\n    this.loadDataDetails(this.props.id)\n  }\n\n  render() {\n    const { id, phones } = this.props;\n    const { details, isLoading, isLoaded } = this.state;\n\n    console.log(details);\n\n    return (\n      <section>\n        {\n          isLoaded\n            ? <>\n              {\n                id === details.id\n                  ? <>\n                    {\n                      phones\n                        .filter(phone => phone.id === id)\n                        .map(phone =>\n                          <PhoneDetails\n                            phone={phone}\n                            details={details}\n                          />\n                        )\n                    }\n                  </>\n                  : 'No any data for this phone'\n              }\n            </>\n            : <Loader\n              isLoading={isLoading}\n            />\n        }\n      </section>\n    )\n  }\n}\n\nexport default PhoneDetailsPage","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Basket = ({ itemsAtBasket, basketManager }) => {\n  return (\n    <div className='basketPage'>\n      {\n        itemsAtBasket.length\n          ? <table className='basketPage__table'>\n              <thead className='basketPage__table-thead'>\n                <tr>\n                  <td className='basketPage__table-thead-td'>\n                    Наименование товара\n                  </td>\n                  <td></td>\n                  <td className='basketPage__table-thead-td'>Количество</td>\n                </tr>\n             </thead>\n             <tbody>\n               {\n                 itemsAtBasket.map(item => (\n                   <tr className='basketPage__table-tbody-tr'>\n                     <td className='basketPage__table-tbody-td'>\n                       <Link\n                         className='basketPage__table-tbody-td-link'\n                         to={`/phones/${item.id}`}\n                       >\n                         {item.name}\n                       </Link>\n                     </td>\n                     <td>\n                      <button\n                        onClick={() => basketManager(item.id, 'remove')}\n                        className='basketPage__table-quantity-remove'\n                      >\n                        x\n                      </button>\n                     </td>\n                     <td className='basketPage__table-tbody-td'>\n                      <button \n                        onClick={() => basketManager(item.id, 'decrease')}\n                        className='basketPage__table-quantity-minus'\n                        >\n                        -\n                      </button>\n                      {item.quantity}\n                      <button\n                        onClick={() => basketManager(item.id, 'increase')}\n                        className='basketPage__table-quantity-plus'\n                      >\n                        +\n                      </button>\n                    </td>\n                   </tr>\n                 ))\n               }\n             </tbody>\n             </table>\n          : <div>Empty</div>\n      }\n    </div>\n  )\n}\n\nexport default Basket","import React from 'react';\nimport './App.css';\nimport {\n  Route,\n  Switch,\n  NavLink\n} from 'react-router-dom'\nimport HomePage from './components/HomePage'\nimport PhonesPage from './components/PhonesPage'\nimport NotFoundPage from './components/NotFoundPage'\nimport PhoneDetailsPage from './components/PhoneDetailsPage'\nimport Basket from './components/Basket'\n\n/**\n * [x] - переделать стиль CSS, чтобы без bootstrap\n * [x] - передать функцию компоненту PhonePage\n * [x] - Implement a Loader to show it while \n *      waiting for the data from server\n * [x] - сделать из списка блоки с информацией\n * [x] - PhoneDetailsPage + router\n *    [x] - почистить код\n *    [x] - прокинуть расширенные данные\n *    [x] - прикрутить Loader\n *      [x] - уточка, почему работает не так?\n *      [x] - создать отдельную функцию\n *      [x] - исправить старую функцию\n * [x] - сделать страницу с основной информацией\n *      текущего телефона\n * [] - в конце доделать основную информацию\n * [x] - реализовать сортировку и поиск\n *    [х] - логика\n *    [x] - сss\n * [x] - сss отодвинуть от края поля\n * [] - корзина\n *    [x] - логика\n *    [x] - реализовать саму страницу basket\n *    [] - починить css активной корзины\n * [] - поработать над стилями всей страницы\n * [x] - исправить ссылки для github\n * [х] - исправить доп. инфу по телефонам\n * [x] - рефакторинг PhoneDetailsPage по state, loadDataDetails, очистка App\n * \n * \n */\n\nclass App extends React.Component {\n  state = {\n    phones: '',\n    isLoading: false,\n    isLoaded: false,\n    itemsAtBasket: [],\n  }\n\n  basketManager = (id, operation) => {\n    const currentIndex = this.state.itemsAtBasket\n      .findIndex(element => element.id === id)\n\n    this.setState(prevState => {\n      let changedArray = [...prevState.itemsAtBasket];\n\n      switch (operation) {\n        case 'increase':\n          return changedArray[currentIndex].quantity += 1;\n        case 'decrease':\n          changedArray[currentIndex].quantity === 1\n            ? changedArray = changedArray.filter(obj => obj.id !== id)\n            : changedArray[currentIndex].quantity -= 1\n          break;\n        case 'remove':\n          changedArray = changedArray.filter(obj => obj.id !== id)\n          break;\n      }\n\n      return {\n        itemsAtBasket: changedArray,\n      }\n    })\n  }\n\n  addItemToBasket = (itemToAdd) => {\n    const currentIndex = this.state.itemsAtBasket\n      .findIndex(element => element.id === itemToAdd.id);\n    \n    if (currentIndex >= 0) {\n      this.setState(prevState => {\n        const changedArray = [...prevState.itemsAtBasket];\n        changedArray[currentIndex].quantity += 1;\n\n        return {\n          itemsAtBasket: changedArray,\n        }\n      })\n    } else {\n      const requiredItem = {...itemToAdd};\n      requiredItem.quantity = 1;\n      delete requiredItem.imageUrl;\n      delete requiredItem.snippet;\n      delete requiredItem.age;\n      delete requiredItem.carrier;\n  \n      this.setState(prevState => ({\n        itemsAtBasket: [...prevState.itemsAtBasket, requiredItem],\n      }))\n    }\n  }\n\n  loadDataPhones = async () => {\n    this.setState({\n      isLoaded: false,\n      isLoading: true,\n    })\n\n    const responsePhones = await\n      fetch('https://mate-academy.github.io/phone-catalogue-static/api/phones.json')\n    const phones = await responsePhones.json();\n\n    setTimeout(() => {\n      this.setState({\n        phones: phones,\n        isLoading: false,\n        isLoaded: true,\n      })\n    }, 1000)\n  }\n\n  render() {\n    const {phones, isLoading, isLoaded, itemsAtBasket} = this.state;\n\n    return (\n      <div>\n        <nav className=\"nav-menu-header\">\n          <NavLink \n            className=\"nav-menu-header__item\"\n            href=\"#\"\n            exact to='/'\n          >\n              Home\n          </NavLink>\n\n          <NavLink \n            className=\"nav-menu-header__item\" \n            href=\"#\"\n            to='/phones/'\n          >\n            Phones\n          </NavLink>\n          \n          <NavLink\n            className=\"nav-menu-header__item basket\" \n            href='#'\n            to='/basket/'\n          >\n          </NavLink>\n        </nav>\n\n        <Switch>\n          <Route path='/' exact component={HomePage}/>\n          <Route path='/phones/' exact render={() =>\n            <PhonesPage \n              addItemToBasket={this.addItemToBasket}\n              loadDataPhones={this.loadDataPhones}\n              phones={phones}\n              isLoading={isLoading}\n              isLoaded={isLoaded}\n            />\n          }/>\n          <Route path='/phones/:id?' render={({ match }) =>\n            <PhoneDetailsPage\n              loadDataPhones={this.loadDataPhones}\n              phones={phones}\n              id={match.params.id}\n            />  \n          } />\n          <Route path='/basket/' render={() =>\n            <Basket \n              itemsAtBasket={itemsAtBasket}\n              basketManager={this.basketManager}\n            />\n          }\n          />\n          <Route component={NotFoundPage}/>\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { HashRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>, \n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}
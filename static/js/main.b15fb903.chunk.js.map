{"version":3,"sources":["components/HomePage.jsx","components/Loader.jsx","components/PhoneCatalog.jsx","components/PhonesPage.jsx","components/NotFoundPage.jsx","components/constants.js","components/PhoneDetails.jsx","components/PhoneDetailsPage.jsx","components/Basket.jsx","App.js","index.js"],"names":["HomePage","react_default","a","createElement","Loader","_ref","isLoading","className","PhoneCatalog","state","phones","phonesForShowing","componentDidMount","_this","setState","props","handleInput","event","value","target","prevState","Object","toConsumableArray","filter","phone","id","toLowerCase","includes","sortFunc","sort","b","valueA","valueB","localeCompare","_this2","this","htmlFor","onChange","type","selected","map","src","concat","imageUrl","alt","react_router_dom","to","name","snippet","onClick","addItemToBasket","React","Component","PhonesPage","loadDataPhones","_this$props","isLoaded","components_PhoneCatalog","components_Loader","NotFoundPage","BASE_IMAGE_URL","PhoneDetails","currentImg","details","currentImage","images","chooseCurrentImg","console","log","description","image","PhoneDetailsPage","loadDataDetails","_callee","currentId","responseDetails","regenerator_default","wrap","_context","prev","next","fetch","sent","json","stop","_this$state","Fragment","components_PhoneDetails","Basket","itemsAtBasket","basketManager","length","item","quantity","App","operation","currentIndex","findIndex","element","changedArray","obj","itemToAdd","requiredItem","objectSpread","responsePhones","href","width","height","exact","react_router","path","component","render","components_PhonesPage","_ref2","match","components_PhoneDetailsPage","params","components_Basket","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b15fb903.chunk.js","sourcesContent":["import React from 'react';\n\nconst HomePage = () => (\n  <h2>Home page</h2>\n)\n\nexport default HomePage;\n","import React from 'react';\n\nconst Loader = ({ isLoading }) => (\n  <div>\n    {\n      isLoading && <div className=\"loading\" />\n    }\n  </div>\n);\n\nexport default Loader;\n","import React from 'react';\nimport {\n  Link,\n} from 'react-router-dom';\n\nclass PhoneCatalog extends React.Component {\n  state = {\n    phones: [],\n    phonesForShowing: [],\n  }\n\n  componentDidMount = () => {\n    this.setState({\n      phones: this.props.phones,\n      phonesForShowing: this.props.phones,\n    });\n  }\n\n  handleInput = (event) => {\n    const { value } = event.target;\n\n    this.setState(prevState => ({\n      phonesForShowing: [...prevState.phones]\n        .filter(phone => phone.id.toLowerCase().includes(value.toLowerCase())),\n    }));\n  }\n\n  sortFunc = (event) => {\n    const { value } = event.target;\n\n    this.setState(prevState => ({\n      phonesForShowing: [...prevState.phonesForShowing].sort((a, b) => {\n        const valueA = a[value];\n        const valueB = b[value];\n\n        switch (typeof valueA) {\n          case 'string':\n            return valueA.localeCompare(valueB);\n          case 'number':\n            return valueA - valueB;\n          default:\n            return 0;\n        }\n      }),\n    }));\n  };\n\n  render() {\n    const { phonesForShowing } = this.state;\n    const BASE_IMAGE_URL\n      = 'https://mate-academy.github.io/phone-catalogue-static';\n\n    return (\n      <div className=\"phoneCatalog\">\n        <label\n          className=\"searchField\"\n          htmlFor=\"search_field\"\n        >\n          Search:\n          <input\n            onChange={this.handleInput}\n            className=\"searchField__input\"\n            id=\"search_field\"\n            type=\"text\"\n          />\n        </label>\n\n        <label\n          className=\"sortField\"\n          htmlFor=\"sort_select\"\n        >\n          Sort by:\n          <select\n            onChange={this.sortFunc}\n            className=\"sortField-select\"\n            id=\"sort_select\"\n          >\n            <option selected value=\"age\">Newest</option>\n            <option value=\"name\">Alphabetical</option>\n          </select>\n        </label>\n\n        <ul className=\"listOfPhones\">\n          {\n            phonesForShowing.map(phone => (\n              <li className=\"listOfPhones__item\">\n                <img\n                  className=\"listOfPhones__item-img\"\n                  src={`${BASE_IMAGE_URL}/${phone.imageUrl}`}\n                  alt=\"altImg\"\n                />\n\n                <Link\n                  className=\"listOfPhones__item-link\"\n                  to={`/phones/${phone.id}`}\n                >\n                  {phone.name}\n                </Link>\n\n                <section className=\"listOfPhones__item-snippet\">\n                  {phone.snippet}\n                </section>\n\n                <button\n                  onClick={() => this.props.addItemToBasket(phone)}\n                >\n                  Add to cart\n                </button>\n              </li>\n            ))\n          }\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default PhoneCatalog;\n","import React from 'react';\nimport Loader from './Loader';\nimport PhoneCatalog from './PhoneCatalog';\n\nclass PhonesPage extends React.Component {\n  componentDidMount = () => {\n    this.props.loadDataPhones();\n  };\n\n  render() {\n    const {\n      phones,\n      isLoading,\n      isLoaded,\n      addItemToBasket,\n    } = this.props;\n\n    return (\n      <div>\n        {\n          isLoaded\n            ? (\n              <PhoneCatalog\n                addItemToBasket={addItemToBasket}\n                phones={phones}\n                isLoading={isLoading}\n                isLoaded={isLoaded}\n              />\n            )\n            : (\n              <Loader\n                isLoading={isLoading}\n              />\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default PhonesPage;\n","import React from 'react';\n\nconst NotFoundPage = () => (\n  <div>Not found page!</div>\n);\n\nexport default NotFoundPage;\n","const BASE_IMAGE_URL\n= 'https://mate-academy.github.io/phone-catalogue-static';\n\nexport default BASE_IMAGE_URL;\n","import React from 'react'\nimport BASE_IMAGE_URL from './constants'\n\nclass PhoneDetails extends React.Component {\n  state = {\n    currentImg: '',\n  }\n\n  componentDidMount = () => {\n    const { details } = this.props;\n\n    const currentImage = `${BASE_IMAGE_URL}/${details.images[0]}`;\n\n    this.setState({\n      currentImg: currentImage,\n    })\n  }\n\n  chooseCurrentImg = (event) => {\n    const { src } = event.target;\n\n    this.setState({\n      currentImg: src,\n    })\n  }\n\n  render() {\n    const { details } = this.props;\n    const { currentImg } = this.state;\n\n    console.log(details);\n\n    return (\n      <div>\n        <section\n          className='currentPhone__top-block'\n        >\n          <img\n            className='currentPhone__top-block-current-img'\n            src={currentImg}\n            alt=\"phone_photo\"\n          />\n          <h1 className='currentPhone__top-block-title'>\n            {details.name}\n          </h1>\n          <div\n            className='currentPhone__top-block-snippet'\n          >\n            {details.description}\n          </div>\n          <ul className='currentPhone__top-block-all-imgs'>\n            {\n              details.images.map(image =>\n                <img\n                  onClick={this.chooseCurrentImg}\n                  className='currentPhone__top-block-all-imgs-item'\n                  src={`${BASE_IMAGE_URL}/${image}`}\n                  alt=\"\"\n                />\n              )\n            }\n          </ul>\n        </section>\n        <section>\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default PhoneDetails","import React from 'react';\nimport Loader from './Loader';\nimport PhoneDetails from './PhoneDetails';\n\nclass PhoneDetailsPage extends React.Component {\n  state = {\n    details: {},\n    isLoading: false,\n    isLoaded: false,\n  }\n\n  loadDataDetails = async(currentId) => {\n    this.setState({\n      isLoading: true,\n    });\n\n    const responseDetails = await\n    fetch(`https://mate-academy.github.io/phone-catalogue-static/api/phones/${currentId}.json`);\n    const details = await responseDetails.json();\n\n    this.setState({\n      details,\n      isLoading: false,\n      isLoaded: true,\n    });\n  }\n\n  componentDidMount = () => {\n    this.props.loadDataPhones();\n    this.loadDataDetails(this.props.id);\n  };\n\n  render() {\n    const { id, phones } = this.props;\n    const { details, isLoading, isLoaded } = this.state;\n\n    console.log(details);\n\n    return (\n      <section>\n        {\n          isLoaded\n            ? (\n              <>\n                {\n                  id === details.id\n                    ? (\n                      <>\n                        {\n                          phones\n                            .filter(phone => phone.id === id)\n                            .map(phone => (\n                              <PhoneDetails\n                                details={details}\n                              />\n                            ))\n                        }\n                      </>\n                    )\n                    : 'No any data for this phone'\n                }\n              </>\n            )\n            : (\n              <Loader\n                isLoading={isLoading}\n              />\n            )\n        }\n      </section>\n    );\n  }\n}\n\nexport default PhoneDetailsPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Basket = ({ itemsAtBasket, basketManager }) => (\n  <div className=\"basketPage\">\n    {\n      itemsAtBasket.length\n        ? (\n          <table className=\"basketPage__table\">\n            <thead className=\"basketPage__table-thead\">\n              <tr>\n                <td className=\"basketPage__table-thead-td\">\n                    Наименование товара\n                </td>\n                <td />\n                <td className=\"basketPage__table-thead-td\">Количество</td>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                itemsAtBasket.map(item => (\n                  <tr className=\"basketPage__table-tbody-tr\">\n                    <td className=\"basketPage__table-tbody-td\">\n                      <Link\n                        className=\"basketPage__table-tbody-td-link\"\n                        to={`/phones/${item.id}`}\n                      >\n                        {item.name}\n                      </Link>\n                    </td>\n                    <td>\n                      <button\n                        onClick={() => basketManager(item.id, 'remove')}\n                        className=\"basketPage__table-quantity-remove\"\n                      >\n                        x\n                      </button>\n                    </td>\n                    <td className=\"basketPage__table-tbody-td\">\n                      <button\n                        onClick={() => basketManager(item.id, 'decrease')}\n                        className=\"basketPage__table-quantity-minus\"\n                      >\n                        -\n                      </button>\n                      {item.quantity}\n                      <button\n                        onClick={() => basketManager(item.id, 'increase')}\n                        className=\"basketPage__table-quantity-plus\"\n                      >\n                        +\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              }\n            </tbody>\n          </table>\n        )\n        : <div>Empty</div>\n    }\n  </div>\n);\n\nexport default Basket;\n","import React from 'react';\nimport './styles/app.scss';\nimport {\n  Route,\n  Switch,\n  NavLink,\n} from 'react-router-dom';\nimport HomePage from './components/HomePage';\nimport PhonesPage from './components/PhonesPage';\nimport NotFoundPage from './components/NotFoundPage';\nimport PhoneDetailsPage from './components/PhoneDetailsPage';\nimport Basket from './components/Basket';\n\n/**\n * [] - в конце доделать основную информацию\n * [] - корзина\n *    [x] - логика\n *    [x] - реализовать саму страницу basket\n *    [] - починить css активной корзины\n * [] - поработать над стилями всей страницы\n */\n\nclass App extends React.Component {\n  state = {\n    phones: '',\n    isLoading: false,\n    isLoaded: false,\n    itemsAtBasket: [],\n  };\n\n  basketManager = (id, operation) => {\n    const currentIndex = this.state.itemsAtBasket\n      .findIndex(element => element.id === id);\n\n    this.setState((prevState) => {\n      let changedArray = [...prevState.itemsAtBasket];\n\n      switch (operation) {\n        case 'increase':\n          return changedArray[currentIndex].quantity += 1;\n        case 'decrease':\n          changedArray[currentIndex].quantity === 1\n            ? changedArray = changedArray.filter(obj => obj.id !== id)\n            : changedArray[currentIndex].quantity -= 1;\n          break;\n        case 'remove':\n          changedArray = changedArray.filter(obj => obj.id !== id);\n          break;\n      }\n\n      return {\n        itemsAtBasket: changedArray,\n      };\n    });\n  };\n\n  addItemToBasket = (itemToAdd) => {\n    const currentIndex = this.state.itemsAtBasket\n      .findIndex(element => element.id === itemToAdd.id);\n\n    if (currentIndex >= 0) {\n      this.setState((prevState) => {\n        const changedArray = [...prevState.itemsAtBasket];\n\n        changedArray[currentIndex].quantity += 1;\n\n        return {\n          itemsAtBasket: changedArray,\n        };\n      });\n    } else {\n      const requiredItem = { ...itemToAdd };\n\n      requiredItem.quantity = 1;\n\n      this.setState(prevState => ({\n        itemsAtBasket: [...prevState.itemsAtBasket, requiredItem],\n      }));\n    }\n  };\n\n  loadDataPhones = async() => {\n    this.setState({\n      isLoaded: false,\n      isLoading: true,\n    });\n\n    const responsePhones = await\n    fetch('https://mate-academy.github.io/phone-catalogue-static/api/phones.json');\n    const phones = await responsePhones.json();\n\n    this.setState({\n      phones,\n      isLoading: false,\n      isLoaded: true,\n    });\n  };\n\n  render() {\n    const {\n      phones, isLoading, isLoaded, itemsAtBasket,\n    } = this.state;\n\n    return (\n      <div>\n        <nav className=\"header\">\n          <NavLink\n            href=\"#\"\n            to=\"/\"\n          >\n            <img\n              className=\"header__logo\"\n              src=\"img/logo.svg\"\n              width=\"100px\"\n              height=\"32px\"\n              alt=\"logo\"/>\n          </NavLink>\n          \n          <ul className=\"\">\n            <li><NavLink\n            className=\"\"\n            href=\"#\"\n            exact\n            to=\"/\"\n            >\n            Home\n            </NavLink></li>\n  \n            <li><NavLink\n            className=\"\"\n            href=\"#\"\n            to=\"/phones/\"\n            >\n            Phones\n            </NavLink></li>\n  \n            <li><NavLink\n            className=\"\"\n            href=\"#\"\n            to=\"/basket/\"\n            >\n            Basket\n            </NavLink></li>\n          </ul>\n        </nav>\n\n        <Switch>\n          <Route path=\"/\" exact component={HomePage} />\n          <Route\n            path=\"/phones/\"\n            exact\n            render={() => (\n              <PhonesPage\n                addItemToBasket={this.addItemToBasket}\n                loadDataPhones={this.loadDataPhones}\n                phones={phones}\n                isLoading={isLoading}\n                isLoaded={isLoaded}\n              />\n            )}\n          />\n          <Route\n            path=\"/phones/:id?\"\n            render={({ match }) => (\n              <PhoneDetailsPage\n                loadDataPhones={this.loadDataPhones}\n                phones={phones}\n                id={match.params.id}\n              />\n            )}\n          />\n          <Route\n            path=\"/basket/\"\n            render={() => (\n              <Basket\n                itemsAtBasket={itemsAtBasket}\n                basketManager={this.basketManager}\n              />\n            )}\n          />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
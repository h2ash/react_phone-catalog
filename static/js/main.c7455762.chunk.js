(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(38)},33:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),s=a(2),o=a(12),i=a.n(o),m=a(16),u=a(26),d=a(14),h=a(6),g=a(7),p=a(9),E=a(8),f=a(10),v=(a(33),a(11)),y="https://mate-academy.github.io/phone-catalogue-static",k=function(e){var t=e.itemsAtBasket;return r.a.createElement("header",{className:"header"},r.a.createElement(s.c,{className:"header_wrapper-logo",href:"#",to:"/"},r.a.createElement("img",{className:"header__logo",src:"".concat("https://h2ash.github.io","/react_phone-catalog/img/logo.svg"),alt:"logo"})),r.a.createElement("nav",null,r.a.createElement("ul",{className:"header__nav"},r.a.createElement("li",null,r.a.createElement(s.c,{activeClassName:"header__link header__link_active link",className:"header__link link",href:"#",exact:!0,to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.c,{activeClassName:"header__link header__link_active link",className:"header__link link",href:"#",to:{pathname:"/phones",search:""}},"Phones")),r.a.createElement("li",null,r.a.createElement(s.c,{activeClassName:"header__link header__link_active link",className:"header__link link",href:"#",to:"/basket/"},"Basket",r.a.createElement("span",{className:"header__basket-quantity"},t.length))))))},b=function(){return r.a.createElement("div",{className:"wrapper_home home"},r.a.createElement("section",null,r.a.createElement("h1",null,"Welcome to phone shop!"),r.a.createElement("div",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium beatae porro laudantium rem sint! Atque eos fugit sapiente. Iusto magni laudantium, dolorum adipisci ducimus modi vitae dolorem repellendus excepturi amet."),r.a.createElement("button",null,r.a.createElement(s.c,{to:"/phones/",href:"#"},"Watch phones"))),r.a.createElement("div",null,r.a.createElement(s.c,{to:"/",exact:!0,href:"#"},r.a.createElement("img",{src:"".concat("https://h2ash.github.io","/react_phone-catalog/img/phone_2x.gif"),alt:""}))))},P=function(e){var t=e.isLoading;return r.a.createElement("div",null,t&&r.a.createElement("div",{className:"loader"}))},_=function(e){var t=e.choosePage,a=e.page,n=e.arrOfPages;return r.a.createElement("nav",null,r.a.createElement("ul",{className:"ulForArrOfPages"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return t(a-1)}},"Prev")),n.map(function(e,a){return r.a.createElement("li",{key:a},r.a.createElement("a",{onClick:function(){return t(e)}},e))}),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){return t(a+1)}},"Next"))))},N=function(e){var t=e.page,a=e.pages,n=e.phonesPerPage,l=e.phonesForShowing,c=1===t?1:(t-1)*n+1,s=t===a?l.length:t*n;return r.a.createElement("div",null,"Shown ",c," - ",s," of ",l.length)},S=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={phonesForShowing:[],sortBy:"age",inputValue:"",page:1,phonesPerPage:20,pages:1,arrOfPages:[1]},a.componentDidMount=function(){var e=new URLSearchParams(a.props.location.search);e.get("curpage")&&a.setState({page:e.get("curpage")}),e.get("perpage")&&a.setState({phonesPerPage:e.get("perpage")}),e.get("filter")?(a.setState(function(t){return{phonesForShowing:Object(d.a)(a.props.phones).filter(function(t){return t.id.toLowerCase().includes(e.get("filter").toLowerCase())}),inputValue:e.get("filter")}}),e.get("sort")&&a.sortFunctionByValue(e.get("sort"))):(a.setState({phonesForShowing:a.props.phones}),e.get("sort")&&a.sortFunctionByValue(e.get("sort"))),a.calcQuantityAndArrOfPages()},a.filterHandleInput=function(e){var t=e.target.value;a.setState({inputValue:t,phonesForShowing:a.props.phones.filter(function(e){return e.id.toLowerCase().includes(t.toLowerCase())})}),a.sortFunctionByValue(a.state.sortBy),a.calcQuantityAndArrOfPages(),a.choosePage(1),a.setQueryParamsInURL("filter",t)},a.sortHandleSelect=function(e){var t=e.target.value;a.sortFunctionByValue(t),a.choosePage(1),a.setQueryParamsInURL("sort",t)},a.sortFunctionByValue=function(e){a.setState(function(t){return{sortBy:e,phonesForShowing:Object(d.a)(t.phonesForShowing).sort(function(t,a){var n=t[e],r=a[e];switch(e){case"age":return n-r;case"name":return n.localeCompare(r);default:return 0}})}})},a.setQueryParamsInURL=function(e,t){var n=new URLSearchParams(a.props.location.search);n.set(e,t),a.props.history.push({pathname:"/phones",search:"?".concat(n.toString())})},a.chooseQuantityOfPhonesPerPage=function(e){var t=e.target.value;a.setState({phonesPerPage:t}),a.calcQuantityAndArrOfPages(),a.choosePage(1),a.setQueryParamsInURL("perpage",t)},a.choosePage=function(e){a.setState({page:e}),a.setQueryParamsInURL("curpage",e)},a.calcQuantityAndArrOfPages=function(){a.setState(function(e){return{pages:Math.ceil(e.phonesForShowing.length/e.phonesPerPage)}}),a.setState(function(e){for(var t=[],a=1;a<=e.pages;a++)t.push(a);return{arrOfPages:t}})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.phonesForShowing,n=t.phonesPerPage,l=t.page,c=t.pages,o=t.arrOfPages,i=t.inputValue,m=t.sortBy,u=1===l?0:(l-1)*n,d=l*n-1;return r.a.createElement("div",null,r.a.createElement("div",null,"Phones quantity: ",a.length),r.a.createElement(_,{choosePage:this.choosePage,page:l,arrOfPages:o}),r.a.createElement("div",null,"Current Page: ",l),r.a.createElement(N,{page:l,pages:c,phonesPerPage:n,phonesForShowing:a}),r.a.createElement("label",{htmlFor:"chooseQuantityOfPhonesPerPage"},r.a.createElement("select",{value:this.state.phonesPerPage,onChange:this.chooseQuantityOfPhonesPerPage,id:"chooseQuantityOfPhonesPerPage"},r.a.createElement("option",{value:"20"},"Per Page: 20"),r.a.createElement("option",{value:"10"},"Per Page: 10"),r.a.createElement("option",{value:"5"},"Per Page: 5"),r.a.createElement("option",{value:"3"},"Per Page: 3"))),r.a.createElement("label",{htmlFor:"search_field"},"Search:",r.a.createElement("input",{value:i,onChange:this.filterHandleInput,id:"search_field",type:"text"})),r.a.createElement("label",{htmlFor:"sort_select"},"Sort by:",r.a.createElement("select",{value:m,id:"sort",onChange:this.sortHandleSelect},r.a.createElement("option",{value:"age"},"Newest"),r.a.createElement("option",{value:"name"},"Alphabetical"))),r.a.createElement("ul",{className:"ulForCards"},a.filter(function(e,t){return t>=u&&t<=d}).map(function(t){return r.a.createElement("li",{key:t.id,className:"card"},r.a.createElement("img",{className:"card__img",src:"".concat(y,"/").concat(t.imageUrl),alt:"altImg"}),r.a.createElement(s.b,{to:"/phones/".concat(t.id)},t.name),r.a.createElement("section",null,t.snippet),r.a.createElement("button",{onClick:function(){return e.props.addItemToBasket(t)}},"Add to cart"))})))}}]),t}(r.a.Component),O=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.loadDataPhones()},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.phones,a=e.isLoading,n=e.isLoaded,l=e.addItemToBasket,c=e.location,s=e.history;return r.a.createElement("div",null,n?r.a.createElement(S,{addItemToBasket:l,phones:t,isLoading:a,isLoaded:n,location:c,history:s}):r.a.createElement(P,{isLoading:a}))}}]),t}(r.a.Component),w=function(){return r.a.createElement("div",null,"Not found page!")},A=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={currentImg:""},a.componentDidMount=function(){var e=a.props.details,t="".concat(y,"/").concat(e.images[0]);a.setState({currentImg:t})},a.chooseCurrentImg=function(e){var t=e.target.src;a.setState({currentImg:t})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.details,a=this.state.currentImg;return console.log(t),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:"phone_photo"}),r.a.createElement("div",null,t.images.map(function(t){return r.a.createElement("input",{key:"".concat(y,"/").concat(t),type:"image",onClick:e.chooseCurrentImg,src:"".concat(y,"/").concat(t),alt:""})}))),r.a.createElement("div",null,r.a.createElement("h1",null,t.name),r.a.createElement("div",null,t.description)),r.a.createElement("div",null,r.a.createElement("h3",null,"Phone details"),r.a.createElement("ul",null,r.a.createElement("li",{key:"android"},r.a.createElement("h4",null,"Android:"),r.a.createElement("dl",null,r.a.createElement("dt",null,"OS:"),r.a.createElement("dd",null,t.android.os),r.a.createElement("dt",null,"UI:"),r.a.createElement("dd",null,t.android.ui))),r.a.createElement("li",{key:"battery"},r.a.createElement("h4",null,"Battery"),r.a.createElement("dl",null,r.a.createElement("dt",null,"Stand by time:"),r.a.createElement("dd",null,t.battery.standbyTime),r.a.createElement("dt",null,"Talk time:"),r.a.createElement("dd",null,t.battery.talkTime),r.a.createElement("dt",null,"Type:"),r.a.createElement("dd",null,t.battery.type))),r.a.createElement("li",{key:"camera"},r.a.createElement("h4",null,"Camera: "),r.a.createElement("dl",null,r.a.createElement("dt",null,"Screen Resolution:"),r.a.createElement("dd",null,t.camera.features?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"No"})),r.a.createElement("dt",null,"Primary:"),r.a.createElement("dd",null,t.camera.primary?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"No"})))),r.a.createElement("li",{key:"connectivity"},r.a.createElement("h4",null,"Connectivity:"),r.a.createElement("dl",null,r.a.createElement("dt",null,"Bluetooth:"),r.a.createElement("dd",null,t.connectivity.bluetooth),r.a.createElement("dt",null,"Cell:"),r.a.createElement("dd",null,t.connectivity.cell),r.a.createElement("dt",null,"Gps:"),r.a.createElement("dd",null,t.connectivity.gps?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"Yes"})),r.a.createElement("dt",null,"Infrared:"),r.a.createElement("dd",null,t.connectivity.infrared?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"Yes"})),r.a.createElement("dt",null,"Wifi:"),r.a.createElement("dd",null,t.connectivity.wifi))),r.a.createElement("li",{key:"display"},r.a.createElement("h4",null,"Display:"),r.a.createElement("dl",null,r.a.createElement("dt",null,"Screen Resolution:"),r.a.createElement("dd",null,t.display.screenResolution),r.a.createElement("dt",null,"Sreen Size:"),r.a.createElement("dd",null,t.display.screenSize),r.a.createElement("dt",null,"TouchScreen:"),r.a.createElement("dd",null,t.display.touchScreen?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"Yes"})))),r.a.createElement("li",{key:"hardware"},r.a.createElement("h4",null,"Hardware:"),r.a.createElement("dl",null,r.a.createElement("dt",null,"Accelerometer:"),r.a.createElement("dd",null,t.hardware.accelerometer?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"Yes"})),r.a.createElement("dt",null,"AudioJack:"),r.a.createElement("dd",null,t.hardware.audioJack),r.a.createElement("dt",null,"CPU:"),r.a.createElement("dd",null,t.hardware.cpu),r.a.createElement("dt",null,"Fm Radio:"),r.a.createElement("dd",null,t.hardware.fmRadio?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"Yes"})),r.a.createElement("dt",null,"Physical Keyboard:"),r.a.createElement("dd",null,t.hardware.fmRadio?r.a.createElement("img",{className:"icon",src:"./img/check_circle.svg",alt:"Yes"}):r.a.createElement("img",{className:"icon",src:"./img/no_circle.svg",alt:"Yes"})),r.a.createElement("dt",null,"USB:"),r.a.createElement("dd",null,t.hardware.usb))),r.a.createElement("li",{key:"sizeAndWeight"},r.a.createElement("h4",null,"Size And Weight:"),r.a.createElement("dl",null,r.a.createElement("dt",null,"Dimensions:"),r.a.createElement("dd",null,t.sizeAndWeight.dimensions),r.a.createElement("dt",null,"Weight:"),r.a.createElement("dd",null,t.sizeAndWeight.dimensions))))))}}]),t}(r.a.Component),L=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={details:{},isLoading:!1,isLoaded:!1},a.loadDataDetails=function(){var e=Object(m.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.next=3,fetch("".concat(y,"/api/phones/").concat(t,".json"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,a.setState({details:r,isLoading:!1,isLoaded:!0});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){a.props.loadDataPhones(),a.loadDataDetails(a.props.id)},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.phones,n=this.state,l=n.details,c=n.isLoading,s=n.isLoaded;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(r.a.Fragment,null,t===l.id?r.a.createElement(r.a.Fragment,null,a.filter(function(e){return e.id===t}).map(function(e){return r.a.createElement(A,{key:e.id,details:l})})):"No any data for this phone"):r.a.createElement(P,{isLoading:c}))}}]),t}(r.a.Component),B=function(e){var t=e.itemsAtBasket,a=e.basketManager;return r.a.createElement("div",{className:"basketPage"},t.length?r.a.createElement("table",{className:"basketPage__table"},r.a.createElement("thead",{className:"basketPage__table-thead"},r.a.createElement("tr",null,r.a.createElement("td",{className:"basketPage__table-thead-td"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement("td",null),r.a.createElement("td",{className:"basketPage__table-thead-td"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:"tr + ".concat(e.id),className:"basketPage__table-tbody-tr"},r.a.createElement("td",{className:"basketPage__table-tbody-td"},r.a.createElement(s.b,{className:"basketPage__table-tbody-td-link",to:"/phones/".concat(e.id)},e.name)),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a(e.id,"remove")},className:"basketPage__table-quantity-remove"},"x")),r.a.createElement("td",{className:"basketPage__table-tbody-td"},r.a.createElement("button",{onClick:function(){return a(e.id,"decrease")},className:"basketPage__table-quantity-minus"},"-"),e.quantity,r.a.createElement("button",{onClick:function(){return a(e.id,"increase")},className:"basketPage__table-quantity-plus"},"+")))}))):r.a.createElement("div",null,"Empty"))},j=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={phones:"",isLoading:!1,isLoaded:!1,itemsAtBasket:[]},a.basketManager=function(e,t){var n=a.state.itemsAtBasket.findIndex(function(t){return t.id===e});a.setState(function(a){var r=Object(d.a)(a.itemsAtBasket);switch(t){case"increase":return r[n].quantity+=1;case"decrease":1===r[n].quantity?r=r.filter(function(t){return t.id!==e}):r[n].quantity-=1;break;case"remove":r=r.filter(function(t){return t.id!==e});break;default:console.log("\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u043b\u0443\u0447\u0430\u0439 \u043e\u0442\u0441\u0442\u0443\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u0440\u0435\u0434\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u0439")}return{itemsAtBasket:r}},function(){localStorage.setItem("itemsFromBasketInLocal",JSON.stringify(a.state.itemsAtBasket))})},a.addItemToBasket=function(e){if(a.state.itemsAtBasket.findIndex(function(t){return t.id===e.id})<0){var t=Object(u.a)({},e);t.quantity=1,a.setState(function(e){return{itemsAtBasket:[].concat(Object(d.a)(e.itemsAtBasket),[t])}},function(){localStorage.setItem("itemsFromBasketInLocal",JSON.stringify(a.state.itemsAtBasket))})}},a.loadDataPhones=Object(m.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoaded:!1,isLoading:!0}),e.next=3,fetch("".concat(y,"/api/phones.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a.setState({phones:n,isLoading:!1,isLoaded:!0});case 8:case"end":return e.stop()}},e)})),a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("itemsFromBasketInLocal"));null!==e&&this.setState({itemsAtBasket:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.phones,n=t.isLoading,l=t.isLoaded,c=t.itemsAtBasket;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{itemsAtBasket:c}),r.a.createElement("main",null,r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",exact:!0,component:b}),r.a.createElement(v.a,{path:"/phones",exact:!0,render:function(t){var c=t.location,s=t.history;return r.a.createElement(O,{addItemToBasket:e.addItemToBasket,loadDataPhones:e.loadDataPhones,phones:a,isLoading:n,isLoaded:l,location:c,history:s})}}),r.a.createElement(v.a,{path:"/phones/:id?",render:function(t){var n=t.match;return r.a.createElement(L,{loadDataPhones:e.loadDataPhones,phones:a,id:n.params.id})}}),r.a.createElement(v.a,{path:"/basket/",render:function(){return r.a.createElement(B,{itemsAtBasket:c,basketManager:e.basketManager})}}),r.a.createElement(v.a,{component:w}))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(s.a,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.c7455762.chunk.js.map